<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml">
<head>
    <title>Projekt Mimikry - rozšířená realita - Jestřáblog</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    

    <!-- Open Graph tags -->
            <meta property="og:type" content="article"/>
            <meta property="og:title" content="Projekt Mimikry - rozšířená realita"/>
            <meta property="og:url" content="http://blog.petrnohejl.cz/projekt-mimikry"/>
            <meta property="og:description" content="V tomto článku bych chtěl stručně popsat projekt Mimikry, na kterém jsem se podílel v zimním semestru 2010. Článek je upravenou částí dokumentace, kterou jsem odevzdával v rámci školního projektu pro předmět POV. K projektu jsem se dostal víceméně náhodou přes mého vedoucího diplomové práce, kterého kontaktovali studenti Akademie výtvarných ..."/>

    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://blog.petrnohejl.cz/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="http://blog.petrnohejl.cz/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://blog.petrnohejl.cz/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="http://blog.petrnohejl.cz/theme/css/style.css" type="text/css"/>


</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://blog.petrnohejl.cz/" class="navbar-brand">
Jestřáblog            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="http://blog.petrnohejl.cz/pages/o-mne">
                             O mně
                          </a></li>
                        <li >
                            <a href="http://blog.petrnohejl.cz/category/akce.html">Akce</a>
                        </li>
                        <li class="active">
                            <a href="http://blog.petrnohejl.cz/category/informacni-technologie.html">Informační technologie</a>
                        </li>
                        <li >
                            <a href="http://blog.petrnohejl.cz/category/jestrabi-svet.html">Jestřábí svět</a>
                        </li>
                        <li >
                            <a href="http://blog.petrnohejl.cz/category/kultura.html">Kultura</a>
                        </li>
                        <li >
                            <a href="http://blog.petrnohejl.cz/category/ostatni.html">Ostatní</a>
                        </li>
                        <li >
                            <a href="http://blog.petrnohejl.cz/category/rady-a-napady.html">Rady a nápady</a>
                        </li>
                        <li >
                            <a href="http://blog.petrnohejl.cz/category/vareni.html">Vaření</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="http://blog.petrnohejl.cz/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->

<div class="container">
    <div class="row">
        <div class="col-sm-9">

    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="http://blog.petrnohejl.cz/projekt-mimikry"
                       rel="bookmark"
                       title="Permalink to Projekt Mimikry - rozšířená realita">
                        Projekt Mimikry - rozšířená realita
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2011-01-04T00:00:00"> 4.1.2011</time>
    </span>



    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>V tomto článku bych chtěl stručně popsat projekt Mimikry, na kterém jsem
se podílel v zimním semestru 2010. Článek je upravenou částí
dokumentace, kterou jsem odevzdával v rámci školního projektu pro
předmět <abbr title="Počítačové vidění">POV</abbr>. K projektu jsem se
dostal víceméně náhodou přes mého vedoucího diplomové práce, kterého
kontaktovali studenti Akademie výtvarných umění v Praze, že by
potřebovali programátora pro svůj projekt. Další informace lze nalézt na
<a href="http://www.projectmodul.com/">stránkách studentů</a>.</p>
<h2 id="uvod">Úvod</h2>
<p>Cílem práce bylo nastudovat možnosti knihovny <a href="http://blog.petrnohejl.cz/artoolkit">ARToolKit</a> a vytvořit
aplikaci pro rozšířenou realitu využívající tuto knihovnu. Výsledná
aplikace byla určena pro projekt Mimikry, který se prezentoval na
výstavě Designblok 2010. Výstava se konala 5. - 10. 10. 2010 v Praze.
Projekt jsem vypracovával samostatně ve spolupráci se studenty Akademie
výtvarných umění v Praze pod vedením Ing. Aleše Láníka.</p>
<p>Projekt byl experimentální. Hlavním úkolem bylo vytvořit aplikaci
rozšířené reality, která vykresluje 3D model kudlanky, mapovaný pomocí
multipatterns (více trasovacích značek) na reálný model orchideje
(plastika z tvrdého papíru o rozměrech cca 2m) a následně vytvořit
určitou interakci s tímto modelem. Účelem práce bylo živě demonstrovat
mimézi pomocí výpočetní techniky s využitím počítačového vidění. Miméze
je souborný pojem pro morfologické, fyziologické i etologické jevy,
které živočichovi umožňují skrýt se, zamaskovat nebo uniknout
pozornosti. Konkrétně se jednalo o fytomimezi, tj. napodobování rostlin
(např. pakobylky a strašilky napodobují větvičky nebo listy rostlin). V
naší performanci si divák prohlédl živý model orchideje, která se pomocí
rozšířené reality "proměnila" v maskovanou kudlanku.</p>
<h2 id="zakladni-princip">Základní princip</h2>
<p>V této kapitole si popíšeme, jak celý experiment funguje a co dělá.
Projekt byl předváděn v zatemněné místnosti, kde se nacházela papírová
plastika orchideje, podepřená pevným stojanem. S papírovým modelem bylo
možné otáčet zleva doprava. Na této plastice bylo nalepeno 7 trasovacích
značek ARToolKit, vytisknutých na tvrdém papíru. Bylo použito více
značek proto, aby bylo možné model prohlížet z více stran a z blízka,
protože při snímání obrazu kamerou musí být viditelná vždy minimálně
jedna značka. Značky byly rozmístěny tak, aby bylo možné prohlížet model
pomocí kamery i z velmi krátké vzdálenosti. Trasovací značky měly více
velikostí (20 cm a 15 cm).</p>
<p><img alt="Prezentace projektu na výstavě Designblok 2010" src="http://blog.petrnohejl.cz/images/projekt-mimikry-01.jpg" /></p>
<p>Celá plastika byla osvícena projektorem, který promítal jednoduchou
texturu (bílá barva s růžovým nádechem). Textura měla připomínat, že se
jedná o květ orchideje. Texturu bylo potřeba vytvořit tak, aby se bílá
barva promítala přesně na celý model v místech, kde dopadá světlo
projektoru na model. Do míst, kde dopadá světlo mimo model byla
promítána černá barva. Osvícení projektorem zajistilo, že plastika byla
více výrazná a zárověň tím byly zajištěny světelné podmínky pro
rozpoznávání značek ARToolKit.</p>
<p>V místnosti byl dále umístěn počítač, na kterém běžela aplikace pro
rozšířenou realitu. Do počítače byla připojena webkamera Logitech
QuickCam Pro 9000 o vysokém rozlišení (1600 x 1200 px), pomocí které se
snímal obraz. Výsledný obraz rozšířené reality se promítal na velkou
plazma obrazovku umístěnou na stěně. Uprostřed místnosti byl umístěn
dřevěný podstavec, na kterém byla položena kamera, se kterou mohli
návštěvníci výstavy hýbat a vyzkoušet si tak aplikaci na vlastní kůži.</p>
<p><img alt="Instrukce pro návštěvníka výstavy" src="http://blog.petrnohejl.cz/images/projekt-mimikry-02.jpg" /></p>
<p>Aplikace rovněž umožnila určitou míru interakce uživatele s modelem. Z
větší dálky se vykreslovaly 3D modely více podobné květu orchideje. Z
blízka se potom vykreslovaly modely kudlanky s většími detaily.</p>
<p><img alt="Papírový model květu orchideje" src="http://blog.petrnohejl.cz/images/projekt-mimikry-03.jpg" /></p>
<p><img alt="3D model kudlanky" src="http://blog.petrnohejl.cz/images/projekt-mimikry-04.jpg" /></p>
<h2 id="implementace-aplikace">Implementace aplikace</h2>
<p>Aplikace je implementována v jazyce C/C++, ve vývojovém prostředí
Microsoft Visual Studio 2008 s využitím knihovny <a href="http://blog.petrnohejl.cz/artoolkit">ARToolKit</a>. Pro
vykreslování 3D modelů potom byly použity knihovny OpenGL a OpenVRML.</p>
<p>Parametry trasovacích značek (název, datový soubor, fyzické rozměry v
mm, střed značky) a seznam VRML modelů jsou uloženy v konfiguračních
souborech. Nastavení kalibrace kamery je rovněž uloženo v souboru. V
projektu byly použity standardní trasovací značky ARToolKit: patt.hiro,
patt.kanji, patt.sample1, patt.sample2, patt.a, patt.c, patt.f.</p>
<p>Kostra zdrojového kódu aplikace:</p>
<ul>
<li>Inicializace, nastavení videokamery, zpracování konfiguračního
    souboru značek a načtení modelů VRML.</li>
<li>Hlavní smyčka:<ul>
<li>Načtení snímku z videokamery.</li>
<li>Detekce trasovacích značek a rozpoznání vzorů.</li>
<li>Výpočet pozice a rotace kamery vzhledem k rozpoznaným značkám.</li>
<li>Vykreslení snímku a virtuálních objektů.</li>
</ul>
</li>
<li>Ukončení snímání videokamery.</li>
</ul>
<h2 id="funkce-aplikace">Funkce aplikace</h2>
<ul>
<li>Rozšířená realita využívající knihovnu ARToolKit.</li>
<li>Interakce modelu s uživatelem v podobě použití LOD objektů.</li>
<li>Trasování 3D objektu pomocí multipatterns.</li>
<li>Použití 7 trasovacích značek o různých fyzických rozměrech.</li>
<li>Funkce pro snadnější výpočet transformačních matic multipatterns
    (ruční polohování objektu).</li>
<li>Využití stabilizace trasování objektu pomocí funkce historie.</li>
<li>Využití knihovny OpenVRML pro vykreslování 3D modelů.</li>
<li>Možnost vykreslování objektu z poslední známé pozice v případě
    nerozpoznání značek (použitelné pro statickou kameru).</li>
<li>Přizpůsobení prahu světelným podmínkám (ruční nastavení).</li>
<li>Debug mode zobrazující prahovaný obraz.</li>
<li>Fullscreen mode.</li>
<li>Možnost vypnutí zobrazení videa.</li>
</ul>
<h2 id="priprava-projektu-a-zkusenosti">Příprava projektu a zkušenosti</h2>
<p>Instalace projektu probíhala přímo na místě konání výstavy, v
Superstudiu Designbloku Bubenská 1 v Praze. Při instalaci bylo potřeba
nalepit trasovací značky na plastiku a vypočítat transformační matice,
udávající vzájemné polohy značek. Výpočet transformačních matic je
náročný, a proto byla pro jejich zjištění do aplikace implementována
funkce, která umožnila jednoduše umístit do scény 3D model kudlanky tak,
aby přesně odpovídal pozici papírového modelu. Pomocí tlačítek pro posun
a rotaci byl model umístěn přesně na místo kam patří a program vrátil
informace o pozici a rotaci modelu. Tento postup se opakoval pro všechny
trasovací značky. Tímto jsme získali transformační matice, potřebné pro
použití multipatterns.</p>
<p><img alt="Ukázka plastiky s trasovacími značkami" src="http://blog.petrnohejl.cz/images/projekt-mimikry-05.jpg" /></p>
<p>Dále bylo během instalace nutné provést kalibraci kamery a vhodně
nastavit nasvícení plastiky projektorem.</p>
<p>Během práce na projektu jsme se setkali s několika problémy. Původně
bylo zamýšleno použít vlastní vzory trasovacích značek. Vlastní značky
jsme navrhli a vytiskli. Provedli jsme trénování vzorů a posléze se
ukázalo, že je nelze použít, protože je ARToolKit vzájemně zaměňuje.
Příčinou bylo to, že symboly značek byly podobné. Při detekci značek
dochází k normalizaci a změně rozlišení. ARToolKit pak detekoval dvě
podobné značky jako jednu stejnou. Dalším problémem, se kterým jsme se
setkali byla délka USB kabelu pro připojení webkamery. Nemohli jsme
použít delší prodlužovací kabel než 3m, protože u delších kabelů
docházelo k velkým ztrátám a přenos videa byl nestabilní. V projektu
jsme také chtěli použít VRML model s animací, ale kvůli velkým
hardwarovým nárokům to nebylo možné. Rovněž jsme se pokusili použít v
aplikaci 3D virtuální brýle Z800 3D Visor, ale použitá grafická karta je
nepodporovala.</p>
<p>Na projektu se podíleli:</p>
<ul>
<li>Jan Poupě, Tadeáš Podracký, Jan Novák, Eliška Vojtková - autoři
    projektu, papírová plastika, zajištění vybavení, organizace výstavy</li>
<li>Petr Nohejl - vývoj software, pomoc s instalací</li>
<li>Michal Slyusar - 3D modely</li>
</ul>
<h2 id="zaver">Závěr</h2>
<p>Aplikaci se povedlo naprogramovat dle požadavků, nainstalovat pro daný
fyzický model a úspěšně prezentovat na výstavě, pro kterou byla určena.
Kvůli jistým omezením a nedostatku času pro instalaci se občas vyskytly
chyby v pozicování virtuálního modelu. Dalším problémem bylo občasné
nepochopení celého experimentu ze strany návštěvníků výstavy, a proto
bylo nutné později vytvořit informační plakát, popisující účel projektu.
Práce na experimentu byla pro mě velmi zajímavá a přínosná. Získal jsem
mnoho nových zkušenosti a seznámil se s principy rozšířené reality.
Spolupráce se studenty Akademie výtvarných umění byla rovněž velkou
zkušeností. Zajímavé byly názory lidí z ne-informatických oborů, kteří
nahlíželi na problematiku rozšířené reality z trochu jiného pohledu než
samotný programátor.</p>
<p>Zdrojové soubory projektu na <a href="https://github.com/petrnohejl/Mimesis">github.com</a>.</p>
<p>Na závěr ještě přikládám několik fotografií...</p>
<p><img alt="Vystřihování trasovacích značek, které se stejně nepoužily" src="http://blog.petrnohejl.cz/images/projekt-mimikry-06.jpg" /></p>
<p><img alt="Instalace nesprávných značek" src="http://blog.petrnohejl.cz/images/projekt-mimikry-07.jpg" /></p>
<p><img alt="Testování" src="http://blog.petrnohejl.cz/images/projekt-mimikry-08.jpg" /></p>
<p><img alt="Úklid a úprava ateliéru" src="http://blog.petrnohejl.cz/images/projekt-mimikry-09.jpg" /></p>
<p><img alt="Prezentace projektu na výstavě" src="http://blog.petrnohejl.cz/images/projekt-mimikry-10.jpg" /></p>
<p><img alt="Prezentace projektu na výstavě" src="http://blog.petrnohejl.cz/images/projekt-mimikry-11.jpg" /></p>
<p><img alt="Plakát" src="http://blog.petrnohejl.cz/images/projekt-mimikry-12.jpg" /></p>
<p><img alt="Prezentace projektu na výstavě" src="http://blog.petrnohejl.cz/images/projekt-mimikry-13.jpg" /></p>
<p><img alt="Prezentace projektu na výstavě" src="http://blog.petrnohejl.cz/images/projekt-mimikry-14.jpg" /></p>
<p><img alt="Prezentace projektu na výstavě" src="http://blog.petrnohejl.cz/images/projekt-mimikry-15.jpg" /></p>
            </div>
            <!-- /.entry-content -->
    <hr />
    <section class="comments" id="comments">
        <h2>Comments</h2>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'petrnohejl'; // required: replace example with your forum shortname
            var disqus_identifier = 'projekt-mimikry';
            var disqus_url = 'http://blog.petrnohejl.cz/projekt-mimikry';
            var disqus_config = function () {
                this.language = "cs";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3 well well-sm" id="sidebar">

<aside>
    <section>
        <ul class="list-group list-group-flush">
                <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
                  <ul class="list-group" id="social">
                    <li class="list-group-item"><a href="http://twitter.com/petrnohejl"><i
                            class="fa fa-twitter-square fa-lg"></i> Twitter
                    </a></li>
                    <li class="list-group-item"><a href="http://www.linkedin.com/in/petrnohejl"><i
                            class="fa fa-linkedin-square fa-lg"></i> LinkedIn
                    </a></li>
                    <li class="list-group-item"><a href="https://github.com/petrnohejl"><i
                            class="fa fa-github-square fa-lg"></i> GitHub
                    </a></li>
                    <li class="list-group-item"><a href="http://www.facebook.com/petr.nohejl"><i
                            class="fa fa-facebook-square fa-lg"></i> Facebook
                    </a></li>
                  </ul>
                </li>



                <li class="list-group-item"><a href="http://blog.petrnohejl.cz/"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
                    <ul class="list-group" id="tags">
                    </ul>
                </li>    
    <li class="list-group-item"><h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
      <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="http://petrnohejl.cz/" target="_blank">
                Petr Nohejl
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://janie.jestrab.net/" target="_blank">
                Blog Janie Milíčové
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://honzajavorek.cz/blog" target="_blank">
                Javorové lístky
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://jarmart.cz/" target="_blank">
                JarmArt
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://terezka.8bit.cz/" target="_blank">
                Terezčin BlogHýsek
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://pavca.8bit.cz/" target="_blank">
                Pavčin blog
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://www.zuzikovakultura.blogspot.com/" target="_blank">
                Zuzejkova kultura
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://www.bakinovyzazitky.blogspot.com/" target="_blank">
                Bakinovy zážitky
            </a>
        </li>
      </ul>
    </li>

        </ul>
    </section>

</aside>        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2013 Petr Nohejl
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://code.jquery.com/jquery.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://blog.petrnohejl.cz/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://blog.petrnohejl.cz/theme/js/respond.min.js"></script>

    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'petrnohejl'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-XXXX-YYYY']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();

    </script>
</body>
</html>